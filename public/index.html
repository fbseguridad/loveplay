<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>LovePlay Online</title>
<script type="module" src="firebase-init.js"></script>
</head>
<body>
<h1>LovePlay Online</h1>

<section>
<h2>Registro / Login</h2>
<input id="email" placeholder="Email"><input id="pass" type="password" placeholder="Password">
<button onclick="register()">Registrar</button>
<button onclick="login()">Login</button>
</section>

<section>
<h2>Subir foto/video</h2>
<input type="file" id="fileInput">
<button onclick="uploadFile()">Subir</button>
</section>

<section>
<h2>Feed tipo TikTok</h2>
<div id="feed"></div>
</section>

<section>
<h2>Pago prueba $100</h2>
<button onclick="payTest()">Pagar</button>
</section>

<script>
async function payTest(){
  const resp = await fetch('/api/pago-prueba', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({precio:100})
  });
  const data = await resp.json();
  if(data.ok) window.open(data.init_point,'_blank');
  else alert(JSON.stringify(data));
}
</script>
</body>
</html>
